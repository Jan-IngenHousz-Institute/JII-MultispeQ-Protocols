<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Syntax" href="protocols-schema.html" /><link rel="prev" title="Relative Chlorophyll Content (SPAD)" href="protocols/spad.html" />

    <link rel="shortcut icon" href="_static/favicon.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Elements - JII - MultispeQ Protocols</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=9c9f2328" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">JII - MultispeQ Protocols</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/jan-ingenhousz-institute-logo.webp" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">JII - MultispeQ Protocols</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-protocol.html">Example Protocol (ϕₗₗ)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Available Protocols</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="protocols.html">MultispeQ Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of MultispeQ Protocols</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="protocols/par.html">Photosynthetically Active Radiation (PAR)</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocols/phi2.html">Photosystem II efficiency (ϕₗₗ)</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocols/rides.html">Photosynthesis (RIDES)</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocols/spad.html">Relative Chlorophyll Content (SPAD)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Protocol Development</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocols-schema.html">Syntax</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.jan-ingenhousz-institute.org">Jan Ingenhousz Institute</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Jan-IngenHousz-Institute">GitHub</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/protocol-elements.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="elements">
<h1>Elements<a class="headerlink" href="#elements" title="Link to this heading">¶</a></h1>
<section id="basic-protocol">
<h2>Basic Protocol<a class="headerlink" href="#basic-protocol" title="Link to this heading">¶</a></h2>
<p>A basic protocol can used for quick and simple measurements.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Basic protocol structure</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
     <span class="c1"># Measurement instructions</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="complex-protocol-sets">
<h2>Complex Protocol (Sets)<a class="headerlink" href="#complex-protocol-sets" title="Link to this heading">¶</a></h2>
<p>A complex protocol can measure different measurement types defined in a set.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Complex protocol structure</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">{</span>
      <span class="s2">&quot;v_arrays&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="c1"># Arrays with variables</span>
         <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>
      <span class="p">]</span>
      <span class="s2">&quot;_protocol_sets_&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
           <span class="c1"># measurement Instructions</span>
           <span class="c1"># for the first Part</span>
           <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;PAM&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
           <span class="c1"># measurement Instructions</span>
           <span class="c1"># for the second Part</span>
           <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;ECS&quot;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="measuring-lights">
<h2>Measuring Lights<a class="headerlink" href="#measuring-lights" title="Link to this heading">¶</a></h2>
<p>Measuring lights are controlled by defining pulses. Three parameters are required in order to work with pulses.
The number of pulses, the distance between them and the length of pulses.</p>
<section id="single-light-source">
<h3>Single Light Source<a class="headerlink" href="#single-light-source" title="Link to this heading">¶</a></h3>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Controlling a single measurement light source</span><a class="headerlink" href="#id3" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;pulses&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">20</span>              <span class="c1"># Sets of pulses</span>
  <span class="p">],</span>
<span class="s2">&quot;pulse_distance&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">10000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">10000</span>     <span class="c1"># Distance between pulses</span>
  <span class="p">],</span>
<span class="s2">&quot;pulse_length&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span> <span class="mi">30</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">30</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">30</span> <span class="p">]</span>  <span class="c1"># Duration of the pulse</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/c7594977fde157ff57be5730c3e17a44/plot-pulses-1-light.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/fe1d634325a5ac889175d3da0af2ce43/plot-pulses-1-light.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/3fb8f93adddf600cd989b95588ef5153/plot-pulses-1-light.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default" id="id4">
<img alt="_images/plot-pulses-1-light.png" class="plot-directive" src="_images/plot-pulses-1-light.png" />
<figcaption>
<p><span class="caption-text"><em>Figure:</em> Measurement Pulses using a single Light Source and the resulting pulse sequence</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="multiple-light-sources">
<h3>Multiple Light Sources<a class="headerlink" href="#multiple-light-sources" title="Link to this heading">¶</a></h3>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Controlling two measurement light sources</span><a class="headerlink" href="#id6" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;pulses&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">20</span>
  <span class="p">],</span>
  <span class="s2">&quot;pulse_distance&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">10000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">10000</span>
  <span class="p">],</span>
  <span class="s2">&quot;pulse_length&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">15</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">15</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">15</span> <span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/81fbbfa7fc76d43a9652c5cb510efe88/plot-pulses-n-light.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/21179c19d36ee015e2ecfe9def53c5c9/plot-pulses-n-light.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/acbb11fe37216a1337b12561db0edc11/plot-pulses-n-light.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default" id="id7">
<img alt="_images/plot-pulses-n-light.png" class="plot-directive" src="_images/plot-pulses-n-light.png" />
<figcaption>
<p><span class="caption-text"><em>Figure:</em> Measurement Pulses using two Light Sources and the resulting pulse sequence</span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="detectors">
<h2>Detectors<a class="headerlink" href="#detectors" title="Link to this heading">¶</a></h2>
<p>The MultispeQ has two detectors arragend opposite of each other. One to measure within the visible light spectrum covered
by a BG-18 filter, the other detects light in the IR spectrum. Each pulse defined in pulses also needs a corresponding
detector.</p>
<p>The signal from the detectors is returned as an array called <code class="docutils literal notranslate"><span class="pre">data_raw</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Setting up the detectors for measuing lights</span><a class="headerlink" href="#id9" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;pulses&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">20</span>
  <span class="p">],</span>
  <span class="s2">&quot;pulse_distance&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">10000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">10000</span>
  <span class="p">],</span>
  <span class="s2">&quot;pulse_length&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span> <span class="mi">30</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">30</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">30</span> <span class="p">]</span>
  <span class="p">],</span>
  <span class="s2">&quot;detectors&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>If there is more than one detector per pulse set, the <code class="docutils literal notranslate"><span class="pre">data_raw</span></code> array needs to be deconvoluted to extract the separate signals.</p>
<div class="table-wrapper colwidths-given docutils container" id="id10">
<table class="docutils align-default" id="id10">
<caption><span class="caption-text">Structure of <code class="docutils literal notranslate"><span class="pre">data_raw</span></code> array depending on pulse and detector settings</span><a class="headerlink" href="#id10" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 33.0%" />
<col style="width: 33.0%" />
<col style="width: 34.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Pulses pulses</p></th>
<th class="head"><p>Detectors detectors</p></th>
<th class="head"><p>Output data_raw</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">2</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">[0]</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">2</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">[1]</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">2,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">[1],</span> <span class="pre">[1]</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">2,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">[3],</span> <span class="pre">[1]</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">3,</span> <span class="pre">3,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">2</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">[1,</span> <span class="pre">3]</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">1,</span> <span class="pre">3</span> <span class="pre">]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">2,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">[1,</span> <span class="pre">3],</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">2</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">[1,</span> <span class="pre">3,</span> <span class="pre">1]</span> <span class="pre">]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">3,</span> <span class="pre">1</span> <span class="pre">]</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="gain-settings">
<h2>Gain Settings<a class="headerlink" href="#gain-settings" title="Link to this heading">¶</a></h2>
<p>When taking a measurement, the signal quality depends amongst other factors on the brightness of the measuring light as well as the duration
of the measuring pulse. Instead of making these settings manually, the autogain function can be used to automatically determine the ideal settings.</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Using auto-gain settings in a protocol to determine pulse duration and brightness</span><a class="headerlink" href="#id11" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="c1"># Defining the autogain settings</span>
   <span class="s2">&quot;autogain&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="c1"># index, led, detector, pulse length, target intensity</span>
     <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">3000</span> <span class="p">]</span>
   <span class="p">],</span>
   <span class="c1"># using the auto_duration&lt;index&gt; for the pulse length</span>
   <span class="s2">&quot;pulse_length&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">[</span> <span class="s2">&quot;auto_duration1&quot;</span> <span class="p">]</span>
   <span class="p">],</span>
   <span class="s2">&quot;pulsed_lights&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">[</span> <span class="mi">3</span> <span class="p">]</span>
   <span class="p">],</span>
   <span class="c1"># using the auto_bright&lt;index&gt; for the measuring light brightness</span>
   <span class="s2">&quot;pulsed_lights_brightness&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">[</span> <span class="s2">&quot;auto_bright1&quot;</span> <span class="p">]</span>
   <span class="p">],</span>
   <span class="c1"># using the detector, already used in the autogain</span>
   <span class="s2">&quot;detectors&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="sample-pre-illumination">
<h2>Sample Pre-Illumination<a class="headerlink" href="#sample-pre-illumination" title="Link to this heading">¶</a></h2>
<p>The pre-illumination allows to adapt a sample to a set light intensity before starting the actual measurement.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Pre-Illumination of a sample using one or two LEDs</span><a class="headerlink" href="#id12" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## Single LED</span>
<span class="s2">&quot;pre_illumination&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">60000</span> <span class="p">]</span> <span class="c1"># LED 2, 200 uE, 1 min</span>

<span class="c1">## Combination of LEDs</span>
<span class="s2">&quot;pre_illumination&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">60000</span><span class="p">],</span> <span class="c1"># LED 2, 200 uE, 1 min</span>
  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">60000</span><span class="p">]</span>  <span class="c1"># LED 4, 300 uE, 1 min</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="environmental-sensors">
<h2>Environmental Sensors<a class="headerlink" href="#environmental-sensors" title="Link to this heading">¶</a></h2>
<p>The MultispeQ device has several sensors enabling it to record environmental parameters. Here is an overview of what
information is returned by the available commands.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Adding environmental sensors to a protocol</span><a class="headerlink" href="#id13" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;environmentals&quot;</span><span class="p">:</span> <span class="p">[</span>
   <span class="p">[</span> <span class="s2">&quot;light_intensity&quot;</span> <span class="p">],</span>
   <span class="p">[</span> <span class="s2">&quot;temperature_humidity_pressure&quot;</span> <span class="p">],</span>
   <span class="p">[</span> <span class="s2">&quot;contactless_temp&quot;</span> <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="table-wrapper colwidths-given docutils container" id="id14">
<table class="docutils align-default" id="id14">
<caption><span class="caption-text">Environmental Sensors and the returned data</span><a class="headerlink" href="#id14" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Returned</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">light_intensity</span></code></p></td>
<td><p>Light intensity in µmol photons × s⁻¹ × m⁻² (PAR)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">previous_light_intensity</span></code></p></td>
<td><p>Light intensity from previous measurement (only in _protocols_set_)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">temperature_humidity_pressure</span></code>, <code class="docutils literal notranslate"><span class="pre">thp</span></code></p></td>
<td><p>Temperature (℃), rel. humidity (%), barometric pressure (mbar) - (sensor #1)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">temperature_humidity_pressure2</span></code>, <code class="docutils literal notranslate"><span class="pre">thp2</span></code></p></td>
<td><p>Temperature (℃), rel. humidity (%), barometric pressure (mbar) - (sensor #2)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">contactless_temp</span></code></p></td>
<td><p>Contactless Temperature (℃)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">thickness</span></code></p></td>
<td><p>Thickness (µm - microns)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">thickness_raw</span></code></p></td>
<td><p>Thickness (raw values)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">compass_and_angle</span></code></p></td>
<td><p>Roll, pitch, angle and cardinal direction or the Instrument</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ambient-light-intensity-par">
<h2>Ambient Light Intensity (PAR)<a class="headerlink" href="#ambient-light-intensity-par" title="Link to this heading">¶</a></h2>
<p>Using the <code class="docutils literal notranslate"><span class="pre">light_intensity</span></code> command in a protocol, allows the measured ambient light intensity to be used by the protocol to replicate
the light by the</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Using the ambient light intensity to control an LED</span><a class="headerlink" href="#id15" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;_protocol_set_&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;environmental&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span> <span class="s2">&quot;light_intensity&quot;</span> <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">&quot;nonpulsed_lights&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span> <span class="mi">2</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">2</span> <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">&quot;nonpulsed_lights_brightness&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">## Use the ambient light intensity measured by the PAR sensor</span>
      <span class="p">[</span> <span class="s2">&quot;light_intensity&quot;</span> <span class="p">],</span> <span class="p">[</span> <span class="s2">&quot;light_intensity&quot;</span> <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;nonpulsed_lights&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span> <span class="mi">2</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">2</span> <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">&quot;nonpulsed_lights_brightness&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">## Use the ambient light intensity from the previous protocol</span>
      <span class="p">[</span> <span class="s2">&quot;previous_light_intensity&quot;</span> <span class="p">],</span> <span class="p">[</span> <span class="s2">&quot;previous_light_intensity&quot;</span> <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;set_light_intensity&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="s2">&quot;nonpulsed_lights&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span> <span class="mi">2</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">2</span> <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">&quot;nonpulsed_lights_brightness&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">## Use a set light intensity</span>
      <span class="p">[</span> <span class="s2">&quot;light_intensity&quot;</span> <span class="p">],</span> <span class="p">[</span> <span class="s2">&quot;light_intensity&quot;</span> <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="repeats">
<h2>Repeats<a class="headerlink" href="#repeats" title="Link to this heading">¶</a></h2>
<p>Repeats can be a powerful tool when writing protocols. They allow you to define instructions once and then repeat them, reducing
complexity and making the protocol easier to write.</p>
<p>Repeats can be especially useful when combined with protocol sets, as they can help minimize the size of the overall protocol.</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text"><em>Example:*</em> How to use different types of repeats in a protocol, including variables</span><a class="headerlink" href="#id16" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="c1">## Using fixed repeat values</span>
 <span class="p">[</span>
   <span class="p">{</span>
     <span class="c1"># Repeat the entire set</span>
     <span class="s2">&quot;set_repeats&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
     <span class="s2">&quot;_protocol_set_&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Protocol 1&quot;</span><span class="p">,</span>
           <span class="c1"># Repeat this protocol within each set repeat</span>
           <span class="s2">&quot;protocol_repeats&quot;</span><span class="p">:</span> <span class="mi">3</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Protocol 2&quot;</span>
       <span class="p">}</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">]</span>

 <span class="c1">## Using repeats based on variables</span>
 <span class="p">[</span>
   <span class="p">{</span>
     <span class="s2">&quot;v_arrays&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span> <span class="p">],</span>
     <span class="c1"># Repeat the entire set based on the number of elements in the first v_array</span>
     <span class="s2">&quot;set_repeats&quot;</span><span class="p">:</span> <span class="s2">&quot;#l0&quot;</span><span class="p">,</span>
     <span class="s2">&quot;_protocol_set_&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Protocol 1&quot;</span><span class="p">,</span>
           <span class="c1"># Repeat this protocol within each set repeat (second v_array)</span>
           <span class="s2">&quot;protocol_repeats&quot;</span><span class="p">:</span> <span class="s2">&quot;#l1&quot;</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Protocol 2&quot;</span>
       <span class="p">}</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="variables-v-arrays">
<h2>Variables (v_arrays)<a class="headerlink" href="#variables-v-arrays" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">v_arrays</span></code> can hold up to 4 arrays, each with a maximum of 10 numbers. You can add values to these arrays to use them in your protocol.
The selector for a single value, would look like this <code class="docutils literal notranslate"><span class="pre">&#64;n0:1</span></code>. To access a value based on a protocol or protocol-set repeat, you can use
<code class="docutils literal notranslate"><span class="pre">&#64;p0</span></code> for a protocol repeat or <code class="docutils literal notranslate"><span class="pre">&#64;s0</span></code> for a protocol-set repeat.</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Using the variables array to define values that can be accessed inside a protocol</span><a class="headerlink" href="#id17" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="c1"># The variable array</span>
    <span class="s2">&quot;v_arrays&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">]</span>    <span class="c1"># define values</span>
    <span class="p">],</span>
    <span class="s2">&quot;set_repeats&quot;</span><span class="p">:</span> <span class="s2">&quot;#3&quot;</span><span class="p">,</span>   <span class="c1"># repeat the whole set n times</span>
    <span class="s2">&quot;_protocol_sets_&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="c1"># Define the lights brightness using a variable @s0</span>
        <span class="s2">&quot;non_pulsed_lights_brightness&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;@s0&quot;</span> <span class="p">],</span>

        <span class="c1"># repeat the procol set n time</span>
        <span class="s2">&quot;protocol_repeats&quot;</span><span class="p">:</span> <span class="mi">3</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="table-wrapper colwidths-given docutils container" id="id18">
<table class="docutils align-default" id="id18">
<caption><span class="caption-text">Accessing the variable array using different commands</span><a class="headerlink" href="#id18" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;s&lt;array&gt;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">&quot;&#64;s0&quot;</span> <span class="pre">]</span></code></p></td>
<td><p>Set Repeat: With every protocol set repeat the next position in the array is selected and the value used in the protocol</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;p&lt;array&gt;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">&quot;&#64;p0&quot;</span> <span class="pre">]</span></code></p></td>
<td><p>Protocol Repeat: With every protocol repeat the next position in the array is selected and the value used in the protocol</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;n&lt;array&gt;:&lt;value&gt;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">&quot;&#64;n0:0&quot;,</span> <span class="pre">&quot;&#64;n0:1&quot;</span> <span class="pre">]</span></code></p></td>
<td><p>Single Value: A specific value is used in the protocol</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Timeout
A timeout can be defined to prevent the protocol wait forever for an input through the leaf clamp. Use <code class="docutils literal notranslate"><span class="pre">max_hold_time</span></code> to
set the wait period before the protocol continues. The default is 15 sec ( 15000 ms ).</p>
</div>
</section>
<section id="protocol-flow-control">
<h2>Protocol Flow Control<a class="headerlink" href="#protocol-flow-control" title="Link to this heading">¶</a></h2>
<p>When starting a measurement with the MultispeQ it starts right away. This might not be usefull outside of a laboratory setting, so flow controll
helps to wait for user input to start the measurement, using the leaf clamp as the input.</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text"><em>Example:</em> Using the <code class="docutils literal notranslate"><span class="pre">par_led_start_on_close</span></code> to controll the measurement start and LED inside the instrument</span><a class="headerlink" href="#id19" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
   <span class="c1">## Without LED control</span>
   <span class="s2">&quot;start_on_open_close&quot;</span><span class="p">:</span> <span class="mi">1</span>

   <span class="c1">## Controling a PAR LED</span>
   <span class="s2">&quot;par_led_start_on_close&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="table-wrapper colwidths-given docutils container" id="id20">
<table class="docutils align-default" id="id20">
<caption><span class="caption-text">Comands to use flow control, either with or without LED control</span><a class="headerlink" href="#id20" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 15.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Input</p></th>
<th class="head"><p>Summary</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">start_on_open</span></code></p></td>
<td><p>0,1</p></td>
<td><p>If set to 1 or higher, it will wait until the clamp is opened, then proceed with the rest of the experiment. If the value is set to zero, the command will be ignored.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">start_on_close</span></code></p></td>
<td><p>0,1</p></td>
<td><p>If set to 1, will wait until the clamp is closed, then proceed with the rest of the experiment. If set to 0, will be ignored.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">start_on_open_close</span></code></p></td>
<td><p>0,1</p></td>
<td><p>If set to 1, will wait until the clamp is opened then closed, then proceed with the rest of the experiment. If set to 0, will be ignored.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">par_led_start_on_open</span></code></p></td>
<td><p>0-10 (LED)</p></td>
<td><p>If set to 1 or higher, it will wait until the clamp is opened, then proceed with the rest of the experiment. If set to 0, light intensity is set to 0.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">par_led_start_on_close</span></code></p></td>
<td><p>0-10 (LED)</p></td>
<td><p>If set to 1, will wait until the clamp is closed, then proceed with the rest of the experiment. If set to 0, light intensity is set to 0.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">par_led_start_on_open_close</span></code></p></td>
<td><p>0-10 (LED)</p></td>
<td><p>If set to 1, will wait until the clamp is opened then closed, then proceed with the rest of the experiment. If set to 0, light intensity is set to 0.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="indicator-light">
<h2>Indicator Light<a class="headerlink" href="#indicator-light" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">MultispeQ</span> <span class="pre">v2</span></code> has an indicator light that can be controlled with a protocol to provide information about measurement progress or the
device status. The table provides a few example colors, but you can find or generate more on
<a class="reference external" href="https://www.w3schools.com/html/html_colors_rgb.asp">W3School</a>. The White channel is not used an needs to be set to 0.</p>
<div class="table-wrapper colwidths-given docutils container" id="id21">
<table class="docutils align-default" id="id21">
<caption><span class="caption-text">Indicator Light Example Colors</span><a class="headerlink" href="#id21" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Red, Green, Blue, White</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>◉ White</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[255,</span> <span class="pre">255,</span> <span class="pre">255,</span> <span class="pre">0]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="indicator-red">◉</span> Red</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[255,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="indicator-green">◉</span> Green</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">255,</span> <span class="pre">0,</span> <span class="pre">0]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="indicator-blue">◉</span> Blue</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">255,</span> <span class="pre">0]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="indicator-yellow">◉</span> Yellow</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[255,</span> <span class="pre">255,</span> <span class="pre">0,</span> <span class="pre">0]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="indicator-cyan">◉</span> Cyan</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">255,</span> <span class="pre">255,</span> <span class="pre">0]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="indicator-magenta">◉</span> Magenta</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[255,</span> <span class="pre">0,</span> <span class="pre">255,</span> <span class="pre">0]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="indicator-black">◉</span> Turn Light Off</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0]</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="protocols-schema.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Syntax</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="protocols/spad.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Relative Chlorophyll Content (SPAD)</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024 - Jan Ingenhousz Institute
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Elements</a><ul>
<li><a class="reference internal" href="#basic-protocol">Basic Protocol</a></li>
<li><a class="reference internal" href="#complex-protocol-sets">Complex Protocol (Sets)</a></li>
<li><a class="reference internal" href="#measuring-lights">Measuring Lights</a><ul>
<li><a class="reference internal" href="#single-light-source">Single Light Source</a></li>
<li><a class="reference internal" href="#multiple-light-sources">Multiple Light Sources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detectors">Detectors</a></li>
<li><a class="reference internal" href="#gain-settings">Gain Settings</a></li>
<li><a class="reference internal" href="#sample-pre-illumination">Sample Pre-Illumination</a></li>
<li><a class="reference internal" href="#environmental-sensors">Environmental Sensors</a></li>
<li><a class="reference internal" href="#ambient-light-intensity-par">Ambient Light Intensity (PAR)</a></li>
<li><a class="reference internal" href="#repeats">Repeats</a></li>
<li><a class="reference internal" href="#variables-v-arrays">Variables (v_arrays)</a></li>
<li><a class="reference internal" href="#protocol-flow-control">Protocol Flow Control</a></li>
<li><a class="reference internal" href="#indicator-light">Indicator Light</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=e3a6060d"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>